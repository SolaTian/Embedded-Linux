# 进程和线程的关系

> 进程和线程的关系。进程是操作系统分配资源的基本单位，而线程是进程内的执行单元。一个进程可以有多个线程，这些线程共享进程的资源，比如内存空间和文件句柄。

## 线程卡死是否会一定导致进程卡死

答案是不一定的。

1. 如果线程卡死是因为它在等待某个永远不会发生的资源或事件，比如死锁或者无限等待`I/O`，而主线程或其他关键线程也被阻塞了，那么整个进程可能会卡死。
2. 如果只是其中一个子线程卡死，而主线程还在运行，可能进程还能继续，只是部分功能不可用。


# 进程卡死的主要原因

- 死锁：多个进程或线程互相等待对方释放资源（如锁、文件句柄），形成循环依赖。
- 资源耗尽：内存泄漏：进程持续占用内存不释放，最终触发 OOM（Out of Memory）。
- 文件描述符耗尽：进程打开文件/网络连接后未关闭，导致无法创建新资源。
- 无限循环（死循环）：主线程陷入死循环且无法被中断（如未设置退出条件），导致进程无法响应其他任务。
- 外部依赖故障：进程等待外部资源（如数据库、网络请求）时长时间阻塞，且未设置超时机制。
- 硬件/系统问题：磁盘损坏、CPU 过载、操作系统内核错误等。